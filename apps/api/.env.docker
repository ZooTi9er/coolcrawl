# Firecrawl Docker 环境配置文件
# 复制此文件为 .env 并根据需要修改配置

# ===== 基础配置 =====
NODE_ENV=production
PORT=3002
HOST=0.0.0.0

# ===== Redis 配置 =====
REDIS_URL=redis://redis:6379

# ===== 队列配置 =====
NUM_WORKERS_PER_QUEUE=4
BULL_AUTH_KEY=your_secret_key_here

# ===== 认证配置 =====
# 设置为 false 以禁用数据库认证（简化部署）
USE_DB_AUTHENTICATION=false

# ===== 网络代理配置 =====
# 如果使用代理，请取消注释并配置
# HTTP_PROXY=http://127.0.0.1:10808
# HTTPS_PROXY=http://127.0.0.1:10808
# NO_PROXY=localhost,127.0.0.1,redis

# ===== npm 镜像源配置 =====
# 这些配置会在 Dockerfile 中使用
NPM_REGISTRY=https://registry.npmmirror.com/
PUPPETEER_DOWNLOAD_HOST=https://npmmirror.com/mirrors
CHROMEDRIVER_CDNURL=https://npmmirror.com/mirrors/chromedriver

# ===== 可选服务配置 =====
# Supabase 配置（如果启用数据库认证）
# SUPABASE_URL=your_supabase_url
# SUPABASE_ANON_TOKEN=your_anon_token
# SUPABASE_SERVICE_TOKEN=your_service_token

# OpenAI 配置（用于智能提取功能）
# OPENAI_API_KEY=your_openai_api_key

# 第三方爬取服务
# SCRAPING_BEE_API_KEY=your_scrapingbee_key
# PLAYWRIGHT_MICROSERVICE_URL=http://playwright-service:3001

# PDF 解析服务
# LLAMAPARSE_API_KEY=your_llamaparse_key

# 日志服务
# LOGTAIL_KEY=your_logtail_key

# ===== 性能调优配置 =====
# Node.js 内存限制
NODE_OPTIONS=--max-old-space-size=2048

# 网络超时配置
NETWORK_TIMEOUT=30000
REQUEST_TIMEOUT=60000

# 并发限制
MAX_CONCURRENT_REQUESTS=10
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000
